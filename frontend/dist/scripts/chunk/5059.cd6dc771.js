"use strict";(self.webpackChunktestAmis=self.webpackChunktestAmis||[]).push([[5059],{45059:function(e,t,o){o.r(t),o.d(t,{CodeRenderer:function(){return c},default:function(){return u}});var r=o(31635),n=o(96540),s=o(11331),i=o.n(s),a=o(8096),u=function(e){function t(t){var o=e.call(this,t)||this;return o.toDispose=[],o.codeRef=n.createRef(),o}return(0,r.C6)(t,e),t.prototype.shouldComponentUpdate=function(e){return(0,a.TIf)(t.propsList,this.props,e)||this.resolveLanguage(this.props)!==this.resolveLanguage(e)||(0,a.$_G)(this.props)!==(0,a.$_G)(e)},t.prototype.componentDidMount=function(){var e=this;o.e(8818).then(o.bind(o,28818)).then((function(t){return e.handleMonaco(t)}))},t.prototype.componentDidUpdate=function(e){var t,o;return(0,r.sH)(this,void 0,void 0,(function(){var e,n,s,i,u,c,h;return(0,r.YH)(this,(function(r){switch(r.label){case 0:return e=this.props,n=this.codeRef.current,(null===(t=null==this?void 0:this.monaco)||void 0===t?void 0:t.editor)&&n?(s=e.tabSize,i=null!==(o=(0,a.$_G)(this.props))&&void 0!==o?o:"",u=this.resolveLanguage(),c=this.registerAndGetTheme(),this.monaco.editor.setTheme(c),[4,this.monaco.editor.colorize(i,u,{tabSize:s})]):[3,2];case 1:h=r.sent(),n.innerHTML=h,r.label=2;case 2:return[2]}}))}))},t.prototype.handleMonaco=function(e){var t,o;return(0,r.sH)(this,void 0,void 0,(function(){var n,s,i,u,c,h;return(0,r.YH)(this,(function(r){switch(r.label){case 0:return e?(this.monaco=e,n=this.props.tabSize,s=null!==(t=(0,a.$_G)(this.props))&&void 0!==t?t:"",i=this.resolveLanguage(),(u=this.codeRef.current)&&(null===(o=this.monaco)||void 0===o?void 0:o.editor)?(c=this.registerAndGetTheme(),this.monaco.editor.setTheme(c),[4,this.monaco.editor.colorize(s,i,{tabSize:n})]):[3,2]):[2];case 1:h=r.sent(),u.innerHTML=h,r.label=2;case 2:return[2]}}))}))},t.prototype.resolveLanguage=function(e){var t=null!=e?e:this.props,o=t.customLang,r=t.data,n=t.language,s=void 0===n?"plaintext":n;return(0,a.joH)(s)&&(s=(0,a.GvO)(s,r)),o&&o.name&&(s=o.name),s},t.prototype.registerAndGetTheme=function(){var e,t,o,n,s=this.monaco,a=this.props,u=a.theme,c=a.editorTheme;if(c=c||("dark"===u?"vs-dark":"vs"),!s)return c;if(this.customLang&&this.customLang.name&&Array.isArray(this.customLang.tokens)&&this.customLang.tokens.length){var h=this.customLang.name,l=(null===(o=this.customLang)||void 0===o?void 0:o.colors)&&i()(null===(n=this.customLang)||void 0===n?void 0:n.colors)?this.customLang.colors:{};s.languages.register({id:h});var d=[],p=[];try{for(var g=(0,r.Ju)(this.customLang.tokens),m=g.next();!m.done;m=g.next()){var v=m.value,f=new RegExp(v.regex,v.regexFlags||void 0);d.push([f,v.name]),p.push({token:v.name,foreground:v.color,background:v.background,fontStyle:v.fontStyle})}}catch(t){e={error:t}}finally{try{m&&!m.done&&(t=g.return)&&t.call(g)}finally{if(e)throw e.error}}return s.languages.setMonarchTokensProvider(h,{tokenizer:{root:d}}),s.editor.defineTheme(h,{base:"vs",inherit:!1,rules:p,colors:l}),h}return c},t.prototype.render=function(){var e=(0,a.$_G)(this.props),t=this.props,o=t.className,r=t.maxHeight,s=t.style,i=void 0===s?{}:s,u=t.classnames,c=t.editorTheme,h=t.customLang,l=t.wordWrap,d=t.wrapperComponent,p=this.resolveLanguage(),g="string"==typeof e&&e.split(/\r?\n/).length>1,m=d||(g?"pre":"code");return h&&(this.customLang=h),r&&(i.maxHeight=i.maxHeight||r,i.overflow="auto"),n.createElement(m,{ref:this.codeRef,className:u("Code",{"Code--dark":c&&["vs-dark","hc-black"].includes(c),"Code-pre-wrap":"pre"===m,"word-break":l},o),style:i,"data-lang":p},e)},t.propsList=["language","editorTheme","tabSize","wordWrap","customLang","style"],t.defaultProps={language:"plaintext",tabSize:4,wordWrap:!0},t}(n.Component),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),(0,r.Cg)([(0,a.A49)({type:"code"})],t)}(u)}}]);