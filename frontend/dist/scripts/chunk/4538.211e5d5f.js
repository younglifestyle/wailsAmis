(self.webpackChunktestAmis=self.webpackChunktestAmis||[]).push([[4538],{34538:function(e,t,o){"use strict";o.r(t),o.d(t,{CRUD2Renderer:function(){return P},default:function(){return b}});var n=o(31635),r=o(96540),i=o(40961),a=o(42194),l=o.n(a),s=o(44383),c=o.n(s),d=o(24713),u=o.n(d),p=o(55808),h=o.n(p),g=o(8096),m=o(71086),y=o.n(m),f=o(65408),v=o(11331),C=o.n(v),S=["selectedChange","columnSort","columnFilter","columnSearch","columnToggled","orderChange","rowClick","rowDbClick","rowMouseEnter","rowMouseLeave","selected"],b=function(e){function t(t){var o=e.call(this,t)||this;o.stopingAutoRefresh=!1;var n=t.location,r=t.store,i=t.syncLocation,a=t.pageField,l=t.perPageField;t.parsePrimitiveQuery;var s=o.getParseQueryOptions(t);o.mounted=!0,i&&n&&(n.query||n.search)?r.updateQuery((0,g.mAk)(n,s),void 0,a,l):i&&!n&&window.location.search&&r.updateQuery((0,g.mAk)(window.location,s),void 0,a,l),o.props.api&&o.props.store.updateData({items:[]});var c=t.mode,d=t.columns;return"table2"===c&&d&&r.updateColumns(d),o}return(0,n.C6)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.store,o=e.pickerMode,n=e.loadType,r=e.loadDataOnce,i=e.maxLoadNum;if(n&&!r){var a="more"===n?this.props.perPage||10:this.getPaginationPerPage();t.changePage(t.page,a)}else n||t.changePage(1,i||500);if(this.initQuery({}),o){var l=(0,g.$_G)(this.props);l&&t.setSelectedItems(l)}},t.prototype.componentDidUpdate=function(e){var t,o,n=this.props,r=e.store;n.parsePrimitiveQuery,e.columns!==n.columns&&r.updateColumns(n.columns),this.props.pickerMode&&(0,g.Kbh)(o=(0,g.$_G)(this.props),(0,g.$_G)(e))&&r.setSelectedItems(o);var i=!1;if(e.syncLocation&&e.location&&e.location.search!==n.location.search&&(r.updateQuery((0,g.mAk)(n.location,this.getParseQueryOptions(n)),void 0,n.pageField,n.perPageField),i=!(!n.api||!(0,g.JQ)(r.query,this.lastQuery,!1))),i);else if(e.api&&n.api&&(0,g.B92)(e.api,n.api,r.fetchCtxOf(e.data,{pageField:e.pageField,perPageField:e.perPageField}),r.fetchCtxOf(n.data,{pageField:n.pageField,perPageField:n.perPageField})))i=!0;else if(!n.api&&(0,g.joH)(n.source)){var a=(0,g.GvO)(n.source,n.data,"| raw");this.lastData&&this.lastData===a||(r.initFromScope(n.data,n.source,{columns:null!==(t=r.columns)&&void 0!==t?t:n.columns}),this.lastData=a)}i&&this.getData()},t.prototype.componentWillUnmount=function(){this.mounted=!1,clearTimeout(this.timer)},t.prototype.getPaginationPerPage=function(){var e=10,t=this.props,o=t.headerToolbar,n=t.footerToolbar;return(0,g.tiK)({headerToolbar:o,footerToolbar:n},(function(t,o,n){"type"!==o||"pagination"!==t||isNaN(null==n?void 0:n.perPage)||(e=+n.perPage)})),e},t.prototype.getParseQueryOptions=function(e){var t,o=e.parsePrimitiveQuery;return{parsePrimitive:!!((0,g.Gvm)(o)?null==o?void 0:o.enable:o),primitiveTypes:null!==(t=null==o?void 0:o.types)&&void 0!==t?t:["boolean"]}},t.prototype.controlRef=function(e){for(;e&&e.getWrappedInstance;)e=e.getWrappedInstance();this.control=e},t.prototype.initQuery=function(e){var t=this.props,o=t.store,r=t.orderBy,i=t.orderDir,a=t.loadType,l={};r&&(l.orderBy=r,l.orderDir=i||"asc"),this.handleSearch({query:(0,n.Cl)((0,n.Cl)((0,n.Cl)({},l),e),o.query),replaceQuery:!1!==this.props.initFetch,loadMore:"more"===a,resetPage:!1}),o.setPristineQuery()},t.prototype.handleLoadMore=function(){var e=this.props,t=e.store,o=e.perPage,n=void 0===o?10:o;t.changePage(t.page+1,n),this.getData(void 0,void 0,void 0,!0)},t.prototype.handleSearch=function(e){var t,o,r=this.props,i=r.store,a=r.syncLocation,l=r.env,s=r.pageField,c=r.perPageField,d=r.parsePrimitiveQuery,u=this.getParseQueryOptions(this.props),p=e||{},h=p.query,m=p.resetQuery,f=p.replaceQuery,v=p.loadMore,C=p.resetPage;h=(0,n.Cl)((0,n.Cl)({},h),y()(null!==(o=null===(t=null==h?void 0:h.__super)||void 0===t?void 0:t.diff)&&void 0!==o?o:{},(function(e){return void 0===e}))),h=a?(0,g.gji)((0,g.Eqn)(h,void 0,!0)):h,d&&(h=(0,g.kCf)(h,u)),i.updateQuery(m?(0,n.Cl)((0,n.Cl)({},h),this.props.store.pristineQuery):h,a&&l&&l.updateLocation?function(e){return l.updateLocation(e,!0)}:void 0,s,c,f),C&&i.changePage(1),this.lastQuery=i.query,this.getData(void 0,void 0,void 0,null!=v&&v)},t.prototype.handleStopAutoRefresh=function(){this.timer&&clearTimeout(this.timer),this.stopingAutoRefresh=!0},t.prototype.handleStartAutoRefresh=function(){this.stopingAutoRefresh=!1,this.reload()},t.prototype.reloadTarget=function(e,t){},t.prototype.closeTarget=function(e){},t.prototype.updateQuery=function(e){this.props.store},t.prototype.getData=function(e,t,o,r){var i,a,l;return void 0===o&&(o=!1),(0,n.sH)(this,void 0,void 0,(function(){var s,c,d,u,p,h,m,y,f,v,C,S,b,P,A,T,F,O,I,Q,k;return(0,n.YH)(this,(function(n){switch(n.label){case 0:return s=this.props,c=s.store,d=s.api,u=s.messages,p=s.pageField,h=s.perPageField,m=s.interval,y=s.stopAutoRefreshWhen,f=s.silentPolling,s.syncLocation,v=s.syncResponse2Query,C=s.keepItemSelectionOnPageChange,S=s.stopAutoRefreshWhenModalIsOpen,b=s.pickerMode,s.env,P=s.loadType,A=s.loadDataOnce,T=s.source,F=s.columns,O=s.perPage,!r&&C&&t&&!b&&(c.setSelectedItems([]),c.setUnSelectedItems([])),clearTimeout(this.timer),this.lastQuery=c.query,I=null!=r?r:"more"===P,Q=(0,g.ed2)(c.data,c.query),I&&O&&c.changePerPage(O),(0,g.Amo)(d,Q)?[4,c.fetchInitData(d,Q,{successMessage:u&&u.fetchSuccess,errorMessage:u&&u.fetchFailed,autoAppend:!0,forceReload:o,loadDataOnce:A,source:T,silent:e,pageField:p,perPageField:h,loadDataMode:I,syncResponse2Query:v,columns:null!==(i=c.columns)&&void 0!==i?i:F,isTable2:!0})]:[3,2];case 1:return(null==(k=n.sent())?void 0:k.ok)&&m&&!this.stopingAutoRefresh&&this.mounted&&(!y||!y||!(0,g.pgu)(y,(0,g.ed2)(c.data,c.query)))&&(!S||!c.dialogOpen&&!(null===(a=null==c?void 0:c.parentStore)||void 0===a?void 0:a.dialogOpen))&&(this.timer=setTimeout(this.getData.bind(this,f,void 0,!0),Math.max(m,1e3))),[3,3];case 2:T&&c.initFromScope(Q,T,{columns:null!==(l=c.columns)&&void 0!==l?l:F}),n.label=3;case 3:return[2,c.data]}}))}))},t.prototype.handleChangePage=function(e,t){var o,n=this.props,r=n.store,a=n.syncLocation,l=n.env,s=n.pageField,c=n.perPageField,d=n.autoJumpToTopOnPagerChange,u=((o={})[s||"page"]=e,o);if(t&&(u[c||"perPage"]=t),r.updateQuery(u,a&&(null==l?void 0:l.updateLocation)?l.updateLocation:void 0,s,c),r.changePage(e,t),this.getData(),d&&this.control){(0,i.findDOMNode)(this.control).scrollIntoView();var p=window.scrollY;p&&window.scroll(0,p)}},t.prototype.handleSave=function(e,t,o,n,r,i){var a=this,l=this.props,s=l.store,c=l.quickSaveApi,d=l.quickSaveItemApi,u=l.primaryField,p=l.env,h=l.messages,m=l.reload;if(Array.isArray(e)){if(!(0,g.Amo)(c))return void(p&&p.alert("CRUD quickSaveApi is required"));var y=(0,g.ed2)(s.data,{rows:e,rowsDiff:t,indexes:o,rowsOrigin:r});e.length&&e[0].hasOwnProperty(u||"id")&&(y.ids=e.map((function(e){return e[u||"id"]})).join(",")),n&&(y.unModifiedItems=n),s.saveRemote(c,y,{successMessage:h&&h.saveFailed,errorMessage:h&&h.saveSuccess}).then((function(){m&&a.reloadTarget((0,g.Wvn)(m,y),y),a.getData(void 0,void 0,!0)})).catch((function(){}))}else{if(!(0,g.Amo)(d))return void(p&&p.alert("CRUD quickSaveItemApi is required!"));var f=(0,g.ed2)(s.data,{item:e,modified:t,origin:r}),v=(0,g.ed2)(f,e);s.saveRemote(d,v).then((function(){m&&a.reloadTarget((0,g.Wvn)(m,f),f),a.getData(void 0,void 0,!0)})).catch((function(){(null==i?void 0:i.resetOnFailed)&&a.control.reset()}))}},t.prototype.handleSaveOrder=function(e,t){var o=this,n=this.props,r=n.store,i=n.saveOrderApi,a=n.orderField,l=n.primaryField,s=n.env,d=n.reload;if(i){var u,p,h=(0,g.ed2)(r.data),m=[],y=l&&t[0]&&t[0].hasOwnProperty(l);if(y||(h.idMap={}),h.insertAfter={},t.forEach((function(o){if(~e.indexOf(o))if(u){var n=y?u[l]:t.indexOf(u);h.insertAfter[n]=h.insertAfter[n]||[],y||(h.idMap[n]=u),h.insertAfter[n].push(y?o[l]:o)}else m.push(o);else u=o,p=p||o})),p&&m.length){var f=y?p[l]:t.indexOf(p);y||(h.idMap[f]=p),h.insertBefore={},h.insertBefore[f]=m.map((function(e){return y?e[l]:e}))}else if(m.length){var v=m[0],C=y?v[l]:t.indexOf(v);y||(h.idMap[C]=v),h.insertAfter[C]=m.slice(1).map((function(e){return y?e[l]:e}))}if(a){var S=(r.page-1)*r.perPage||0;t=t.map((function(e,t){var o;return(0,g.C5M)(e,((o={})[a]=S+t+1,o))}))}h.rows=t.concat(),y&&(h.ids=t.map((function(e){return e[l]})).join(",")),y&&a&&(h.order=t.map((function(e){return c()(e,[l,a])}))),(0,g.Amo)(i,h)&&r.saveRemote(i,h).then((function(){d&&o.reloadTarget((0,g.Wvn)(d,h),h),o.getData(void 0,void 0,!0)})).catch((function(){}))}else s&&s.alert("CRUD saveOrderApi is required!")},t.prototype.handleSelect=function(e,t){var o=this.props,n=o.store,r=o.keepItemSelectionOnPageChange,i=o.primaryField,a=o.multiple,l=o.pickerMode,s=o.onSelect,c=e,d=t;if((0,g.Kbh)(n.selectedItemsAsArray,c)){if(r&&n.selectedItems.length){var p=n.selectedItems.concat(),h=n.unSelectedItems.concat();e.forEach((function(e){var t=u()(p,(function(t){return t===e||t[i||"id"]&&t[i||"id"]==e[i||"id"]}));~t?p[t]=e:p.push(e);var o=u()(h,(function(t){return t===e||t[i||"id"]&&t[i||"id"]==e[i||"id"]}));~o&&h.splice(o,1)})),t.forEach((function(e){var t=u()(h,(function(t){return t===e||t[i||"id"]&&t[i||"id"]==e[i||"id"]})),o=u()(p,(function(t){return t===e||t[i||"id"]&&t[i||"id"]==e[i||"id"]}));~t?h[t]=e:h.push(e),!~t&&~o&&p.splice(o,1)})),c=p,d=h}l&&!1===a&&c.length>1&&d.push.apply(d,c.splice(0,c.length-1)),n.setSelectedItems(c),n.setUnSelectedItems(d),s&&s(c)}},t.prototype.handleQuerySearch=function(e,t){var o;void 0===t&&(t=!1);var r=this.props,i=r.store,a=r.syncLocation,l=r.env,s=r.pageField,c=r.perPageField;return i.updateQuery((0,n.Cl)((0,n.Cl)({},e),((o={})[s||"page"]=1,o)),a&&l&&l.updateLocation?l.updateLocation:void 0,s,c),this.getData(void 0,void 0,t)},t.prototype.reload=function(e,t){return t?this.receive(t):this.getData(void 0,void 0,!0)},t.prototype.receive=function(e){return this.handleQuerySearch(e,!0)},t.prototype.doAction=function(e,t,o){if(e.actionType&&["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(e.actionType))return this["handle".concat(h()(e.actionType))](t)},t.prototype.handleAction=function(e,t,o,n,r){return void 0===n&&(n=!1),["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(t.actionType)?this.doAction(t,o,n):this.props.onAction(e,t,o,n,r||this.context)},t.prototype.unSelectItem=function(e,t){var o=this.props.store,n=o.selectedItems.concat(),r=o.unSelectedItems.concat(),i=n.indexOf(e);~i&&r.push.apply(r,n.splice(i,1)),o.setSelectedItems(n),o.setUnSelectedItems(r)},t.prototype.clearSelection=function(){var e=this.props.store,t=e.selectedItems.concat(),o=e.unSelectedItems.concat();e.setSelectedItems([]),e.setUnSelectedItems(o.concat(t))},t.prototype.toggleAllColumns=function(e){var t=this.props.store;t.updateColumns(t.columns.map((function(t){return(0,n.Cl)((0,n.Cl)({},t),{toggled:e})})))},t.prototype.toggleToggle=function(e){var t=this.props.store,o=t.columns[e].toggled;t.updateColumns(t.columns.map((function(t,r){return(0,n.Cl)((0,n.Cl)({},t),{toggled:e===r?!o:!1!==t.toggled})})))},t.prototype.handlePullRefresh=function(){return(0,n.sH)(this,void 0,void 0,(function(){var e,t,o,r;return(0,n.YH)(this,(function(n){switch(n.label){case 0:return e=this.props,t=e.dispatchEvent,o=e.data,[4,t("pullRefresh",o)];case 1:return(null==(r=n.sent())?void 0:r.prevented)||this.handleLoadMore(),[2]}}))}))},t.prototype.renderChild=function(e,t,o){void 0===o&&(o={});var r,i=this.props,a=i.render,l=i.store,s=i.primaryField,c=void 0===s?"id":s,d=l.selectedItems,u=l.unSelectedItems,p=l.items;r=/^filter/.test(e)?(0,g.ed2)((0,g.ed2)(l.filterData,l.getData(this.props.data)),{}):(0,g.ed2)(l.mergedData,{items:p.concat(),selectedItems:d.concat(),unSelectedItems:u.concat(),ids:d.map((function(e){return e.hasOwnProperty(c)?e[c]:null})).filter((function(e){return e})).join(",")});var h={activePage:l.page,lastPage:l.lastPage,perPage:l.perPage,total:l.total,onPageChange:this.handleChangePage,cols:l.columns,toggleAllColumns:this.toggleAllColumns,toggleToggle:this.toggleToggle,onQuery:this.handleQuerySearch};return t.type,a(e,t,(0,n.Cl)((0,n.Cl)({data:r},o),h))},t.prototype.renderToolbar=function(e,t){var o=this;return t?(t=[].concat(t)).map((function(t,n){return o.renderChild("".concat(e,"/").concat(n),t,{key:n+""})})):null},t.prototype.renderFilter=function(e){var t=this;if(!e||Array.isArray(e)&&0===e.length)return null;var o=Array.isArray(e)?e:(0,g.Gvm)(e)&&null!=e.type?[e]:[];return o.length<1?null:o.map((function(e,o){return t.renderChild("filter/".concat(o),e,(0,n.Cl)({key:o+"filter",data:t.props.store.filterData,onSubmit:function(e){return t.handleSearch({query:e,resetPage:!0})},onReset:function(e){var o={};Object.keys(e).forEach((function(e){return o[e]=""})),t.handleSearch({query:o,resetQuery:!0,replaceQuery:!0,resetPage:!0})}},t.props.mobileUI?{columnCount:1,mode:"normal",collapsible:!0,title:{type:"container",body:[{type:"icon",icon:"column-filter",className:"icon mr-2"},e.title||""]}}:{}))}))},t.prototype.renderSelection=function(){var e=this,t=this.props,o=t.store,n=t.classnames,i=t.labelField,a=t.labelTpl,l=t.primaryField,s=t.translate,c=t.env;return o.selectedItems.length?r.createElement("div",{className:n("Crud-selection")},r.createElement("div",{className:n("Crud-selectionLabel")},s("CRUD.selected",{total:o.selectedItems.length})),o.selectedItems.map((function(t,o){return r.createElement("div",{key:o,className:n("Crud-value")},r.createElement("span",{"data-tooltip":s("delete"),"data-position":"bottom",className:n("Crud-valueIcon"),onClick:e.unSelectItem.bind(e,t,o)},"×"),r.createElement("span",{className:n("Crud-valueLabel")},a?r.createElement(f.Ed,{html:(0,g.pbD)(a,t),filterHtml:c.filterHtml}):(0,g.dnO)(t,i||"label")||(0,g.dnO)(t,l||"id")))})),r.createElement("a",{onClick:this.clearSelection.bind(this),className:n("Crud-selectionClear")},s("clear"))):null},t.prototype.transformTable2cards=function(){for(var e,t=this.props,o=t.store,r=t.columns,i=t.card,a=[],l=t.mobileMode.fieldCount||4,s=[],c="",d=(null!==(e=o.columns)&&void 0!==e?e:r)||[],u=0;u<d.length;u++){var p=d[u];if(C()(p))if("operation"===p.type)s.push.apply(s,(0,n.fX)([],(0,n.zs)((null==p?void 0:p.buttons)||[]),!1));else if("button"===p.type&&"operation"===p.name)s.push(p);else{if(!p.label&&p.title&&(p.label=p.title),"static-image"===p.type&&!c){c="${".concat(p.name,"}");continue}a.length<l&&("static-image"===p.type&&p.title&&delete p.title,a.push(p))}}return a.length?{columnsCount:1,type:"cards",card:(0,n.Cl)((0,n.Cl)((0,n.Cl)({},i),{body:a,actions:s}),c?{media:{type:"image",url:c,position:"right",className:""},mediaActionPosition:"outside"}:{})}:null},t.prototype.transMobileHeaderToolbar=function(e,t){var o=0,n={},r={},i={};function a(e,t){Array.isArray(e)?e.forEach((function(e){return a(e,t)})):e&&"object"==typeof e&&("button"===e.type?(o++,"新增"===e.label&&(n=e,r=t)):"search-box"===e.type&&(i=e),Object.values(e).forEach((function(t){return a(t,e)})))}e.forEach((function(e){a(e)})),1===o&&n&&(n.label="",n.icon="plus",n.className||(n.className=""),n.className+=" is-fixed-right-bottom",r&&(r.className||(r.className=""),r.className+=" is-fixed-right-bottom-wrapper"),i&&t())},t.prototype.render=function(){var e=this.props,t=e.columns,o=e.className,i=e.style,a=e.bodyClassName,s=e.filter,c=e.render,d=e.store,u=e.mode,p=void 0===u?"table2":u;e.syncLocation,e.children,e.bulkActions;var h=e.pickerMode,g=e.selectable,m=e.multiple;e.valueField;var y=e.primaryField;e.value,e.hideQuickSaveBtn;var v=e.itemActions,C=e.classnames,b=e.keepItemSelectionOnPageChange,P=e.maxKeepItemSelectionLength,A=e.onEvent;e.onAction;var T=e.popOverContainer,F=e.translate;e.onQuery;var O=e.autoGenerateFilter;e.onSelect;var I=e.autoFillHeight,Q=e.showSelection,k=e.headerToolbar,R=e.footerToolbar;e.columnsTogglable;var D,N=e.headerToolbarClassName,M=e.footerToolbarClassName,w=e.id,x=e.testIdBuilder,E=e.mobileMode,L=e.mobileUI,q=e.pullRefresh,j=(0,n.Tt)(e,["columns","className","style","bodyClassName","filter","render","store","mode","syncLocation","children","bulkActions","pickerMode","selectable","multiple","valueField","primaryField","value","hideQuickSaveBtn","itemActions","classnames","keepItemSelectionOnPageChange","maxKeepItemSelectionLength","onEvent","onAction","popOverContainer","translate","onQuery","autoGenerateFilter","onSelect","autoFillHeight","showSelection","headerToolbar","footerToolbar","columnsTogglable","headerToolbarClassName","footerToolbarClassName","id","testIdBuilder","mobileMode","mobileUI","pullRefresh"]),B=!1,H=null;if(E&&L&&p.includes("table")){var U=this.transformTable2cards();"string"==typeof E&&"cards"===E?U&&(H=U):"object"==typeof E&&(H=(0,n.Cl)((0,n.Cl)((0,n.Cl)({},U),E),{card:(0,n.Cl)((0,n.Cl)({},null==U?void 0:U.card),E.card)})),H&&this.transMobileHeaderToolbar(k,(function(){B=!0})),H&&!(null==q?void 0:q.disabled)&&(D=(0,n.Cl)((0,n.Cl)({normalText:F("pullRefresh.crud2NormalText"),pullingText:F("pullRefresh.crud2PullingText"),loosingText:F("pullRefresh.crud2LoosingText")},q),{disabled:!1}))}else D=q;var W=c("body",(0,n.Cl)((0,n.Cl)((0,n.Cl)({},j),{onEvent:l()(A,(function(e,t){return!S.includes(t)})),type:p,columns:p.startsWith("table")?d.columns||t:void 0,id:w}),H),{key:"body",className:C("Crud2-body",a),ref:this.controlRef,autoGenerateFilter:!s&&O,autoFillHeight:I,checkAll:!1,selectable:!!(null!=g?g:h),itemActions:v,multiple:m,columnsTogglable:!1,selected:h||b?d.selectedItemsAsArray:void 0,keepItemSelectionOnPageChange:b,maxKeepItemSelectionLength:P,primaryField:y,testIdBuilder:x,items:d.data.items,query:d.query,orderBy:d.query.orderBy,orderDir:d.query.orderDir,popOverContainer:T,onSave:this.handleSave.bind(this),onSaveOrder:this.handleSaveOrder,onSearch:this.handleQuerySearch,onSort:this.handleQuerySearch,onSelect:this.handleSelect,onAction:this.handleAction,data:d.mergedData,loading:d.loading,host:this});return r.createElement("div",(0,n.Cl)({className:C("Crud2",o,{"is-loading":d.loading,"is-mobile":L,"is-mobile-cards":"cards"===E||"cards"===(null==H?void 0:H.type)}),style:i,"data-id":w},null==x?void 0:x.getTestId()),r.createElement("div",(0,n.Cl)({className:C("Crud2-filter")},null==x?void 0:x.getChild("filter").getTestId()),this.renderFilter(s)),r.createElement("div",{className:C("Crud2-toolbar","Crud2-header-toolbar",N,{"is-sticky":B})},this.renderToolbar("headerToolbar",k)),Q&&b&&!1!==m?this.renderSelection():null,L&&D&&!D.disabled?r.createElement(f.j5,(0,n.Cl)({},D,{translate:F,onRefresh:this.handlePullRefresh,direction:"up",loading:d.loading,completed:!d.loading&&d.lastPage>0&&d.page>=d.lastPage,completedText:d.total>0?void 0:""}),W):r.createElement(r.Fragment,null,W,r.createElement("div",{className:C("Crud2-toolbar","Crud2-footer-toolbar",M)},this.renderToolbar("footerToolbar",R))))},t.propsList=["mode","syncLocation","value","multiple","valueField","pageField","perPageField","hideQuickSaveBtn","autoJumpToTopOnPagerChange","interval","silentPolling","stopAutoRefreshWhen","stopAutoRefreshWhenModalIsOpen","api","headerToolbar","footerToolbar","autoGenerateFilter","syncResponse2Query","keepItemSelectionOnPageChange","source","onChange","onInit","onSaved","onQuery","autoFillHeight","showSelection","headerToolbarClassName","footerToolbarClassName","primaryField","parsePrimitiveQuery"],t.defaultProps={toolbarInline:!0,syncLocation:!0,hideQuickSaveBtn:!1,autoJumpToTopOnPagerChange:!0,silentPolling:!1,autoFillHeight:!1,showSelection:!0,primaryField:"id",parsePrimitiveQuery:!0},(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[]),(0,n.Sn)("design:returntype",void 0)],t.prototype,"getPaginationPerPage",null),(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object]),(0,n.Sn)("design:returntype",void 0)],t.prototype,"controlRef",null),(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Number,Number]),(0,n.Sn)("design:returntype",void 0)],t.prototype,"handleChangePage",null),(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Array,Array]),(0,n.Sn)("design:returntype",void 0)],t.prototype,"handleSaveOrder",null),(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Array,Array]),(0,n.Sn)("design:returntype",void 0)],t.prototype,"handleSelect",null),(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],t.prototype,"handleQuerySearch",null),(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],t.prototype,"doAction",null),(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object,Object,Boolean,Object]),(0,n.Sn)("design:returntype",void 0)],t.prototype,"handleAction",null),(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Boolean]),(0,n.Sn)("design:returntype",void 0)],t.prototype,"toggleAllColumns",null),(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Number]),(0,n.Sn)("design:returntype",void 0)],t.prototype,"toggleToggle",null),(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[]),(0,n.Sn)("design:returntype",Promise)],t.prototype,"handlePullRefresh",null),(0,n.Cg)([g.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[String,Object,Object]),(0,n.Sn)("design:returntype",void 0)],t.prototype,"renderChild",null),t}(r.Component),P=function(e){function t(t,o){var n=e.call(this,t)||this;return o.registerComponent(n),n}return(0,n.C6)(t,e),t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.context.unRegisterComponent(this)},t.prototype.reload=function(t,o,r){return(0,n.sH)(this,void 0,void 0,(function(){var i;return(0,n.YH)(this,(function(n){return i=this.context,t?[2,i.reload(o?"".concat(t,"?").concat((0,g.Eqn)(o)):t,r)]:[2,e.prototype.reload.call(this,t,o)]}))}))},t.prototype.receive=function(t,o){return(0,n.sH)(this,void 0,void 0,(function(){var r;return(0,n.YH)(this,(function(n){return r=this.context,o?[2,r.send(o,t)]:[2,e.prototype.receive.call(this,t)]}))}))},t.prototype.reloadTarget=function(e,t){this.context.reload(e,t)},t.prototype.closeTarget=function(e){this.context.close(e)},t.contextType=g.MzX,(0,n.Cg)([(0,g.A49)({type:"crud2",storeType:g.wKF.name,isolateScope:!0}),(0,n.Sn)("design:paramtypes",[Object,Object])],t)}(b)},6048:function(e){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},42194:function(e,t,o){var n=o(15389),r=o(6048),i=o(71086);e.exports=function(e,t){return i(e,r(n(t)))}}}]);