"use strict";(self.webpackChunktestAmis=self.webpackChunktestAmis||[]).push([[55],{90055:function(t,e,i){i.r(e),i.d(e,{RadiosControlRenderer:function(){return h},default:function(){return p}});var n=i(31635),o=i(96540),r=i(8096),s=i(66283),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.highlightIndex=-1,e.prevIndex=-1,e}return(0,n.C6)(e,t),e.prototype.chartRef=function(t){var e,i=this;this.chart=t,null===(e=this.chart)||void 0===e||e.on("click","series",(function(t){i.props.onToggle(i.props.options[t.dataIndex])})),setTimeout((function(){return i.highlight()}))},e.prototype.highlight=function(t){void 0===t&&(t=this.highlightIndex),this.props.static||(this.highlightIndex=t,this.chart&&this.prevIndex!==t&&(~this.prevIndex&&this.chart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:this.prevIndex}),~t&&(this.chart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:t}),this.props.showTooltipOnHighlight&&this.chart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:t})),this.prevIndex=t))},e.prototype.componentDidMount=function(){this.props.selectedOptions.length&&this.highlight(this.props.options.indexOf(this.props.selectedOptions[0]))},e.prototype.componentDidUpdate=function(){this.props.selectedOptions.length&&this.highlight(this.props.options.indexOf(this.props.selectedOptions[0]))},e.prototype.renderStatic=function(t){void 0===t&&(t="-"),this.prevIndex=-1,this.highlightIndex=-1;var e=this.props,i=e.options,n=void 0===i?[]:i,r=e.selectedOptions,s=e.labelField,p=void 0===s?"label":s,h=e.valueField,a=void 0===h?"value":h,l=e.chartValueField;if(n.length&&r.length){var c=n.reduce((function(t,e){return t+e[l||a]}),0);if(c>0){var d=(+r[0][l||a]/c*100).toFixed(2);t="".concat(r[0][p],"：").concat(d,"%")}}return o.createElement(o.Fragment,null,t)},e.prototype.render=function(){var t=this.props,e=t.options,i=t.labelField,o=t.chartValueField,r=t.valueField;return(0,t.render)("chart",{type:"chart"},{config:(0,n.Cl)((0,n.Cl)({legend:{top:10},tooltip:{formatter:function(t){return"".concat(t.name,"：").concat(t.value[o||r||"value"],"（").concat(t.percent,"%）")}},series:[{type:"pie",top:30,bottom:0}]},this.props.config),{dataset:{dimensions:[i||"label",o||r||"value"],source:e}}),chartRef:this.chartRef})},(0,n.Cg)([r.d6t,(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object]),(0,n.Sn)("design:returntype",void 0)],e.prototype,"chartRef",null),(0,n.Cg)([(0,s.E)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[]),(0,n.Sn)("design:returntype",void 0)],e.prototype,"render",null),e}(o.Component),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,n.C6)(e,t),e.defaultProps={multiple:!1},(0,n.Cg)([(0,r.QqA)({type:"chart-radios",sizeMutable:!1})],e)}(p)}}]);