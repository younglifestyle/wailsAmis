"use strict";(self.webpackChunktestAmis=self.webpackChunktestAmis||[]).push([[7029],{87029:function(e,t,n){n.r(t),n.d(t,{DiffEditorControlRenderer:function(){return l},DiffEditorRenderer:function(){return a}});var o=n(31635),i=n(96540),r=n(8096),s=n(65408);function u(e,t){if(e&&"string"!=typeof e&&(e=JSON.stringify(e,null,2)),t&&"json"===t)try{e=JSON.stringify("string"==typeof e?JSON.parse(e):e,null,2)}catch(e){}return e||""}var a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={focused:!1},n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleEditorMounted=n.handleEditorMounted.bind(n),n.handleChange=n.handleChange.bind(n),n}return(0,o.C6)(t,e),t.prototype.doAction=function(e,t,n,o){var i,s,u=null==e?void 0:e.actionType,a=this.props,l=a.onChange,d=a.resetValue,c=a.formStore,h=a.store,p=a.name;if("clear"===u)l("");else if("reset"===u){var f=null!==(s=(0,r.dnO)(null!==(i=null==c?void 0:c.pristine)&&void 0!==i?i:null==h?void 0:h.pristine,p))&&void 0!==s?s:d;l(null!=f?f:"")}else"focus"===u&&this.focus()},t.prototype.focus=function(){var e,t,n;null===(e=this.editor)||void 0===e||e.focus(),this.setState({focused:!0});var o=null===(t=this.editor)||void 0===t?void 0:t.getPosition();null===(n=this.editor)||void 0===n||n.setPosition(o)},t.prototype.handleFocus=function(e){return(0,o.sH)(this,void 0,void 0,(function(){var t,n,i,s,u;return(0,o.YH)(this,(function(o){switch(o.label){case 0:return t=this.props,n=t.dispatchEvent,i=t.value,s=t.onFocus,this.setState({focused:!0}),[4,n("focus",(0,r.RKM)(this.props,{value:i}))];case 1:return(null==(u=o.sent())?void 0:u.prevented)||null==s||s(e),[2]}}))}))},t.prototype.handleBlur=function(e){return(0,o.sH)(this,void 0,void 0,(function(){var t,n,i,s,u;return(0,o.YH)(this,(function(o){switch(o.label){case 0:return t=this.props,n=t.dispatchEvent,i=t.value,s=t.onBlur,this.setState({focused:!1}),[4,n("blur",(0,r.RKM)(this.props,{value:i}))];case 1:return(null==(u=o.sent())?void 0:u.prevented)||null==s||s(e),[2]}}))}))},t.prototype.handleChange=function(e){return(0,o.sH)(this,void 0,void 0,(function(){var t,n,i;return(0,o.YH)(this,(function(o){switch(o.label){case 0:return t=this.props,n=t.onChange,[4,(0,t.dispatchEvent)("change",(0,r.RKM)(this.props,{value:e}))];case 1:return(null==(i=o.sent())?void 0:i.prevented)||n&&n(e),[2]}}))}))},t.prototype.handleEditorMounted=function(e){this.editor=e},t.prototype.render=function(){var e=this.props,t=e.className;e.style;var n=e.value;e.onChange;var o=e.disabled,a=e.size,l=e.options,d=e.language,c=e.editorTheme,h=e.diffValue,p=e.classnames,f=e.data,v=(0,r.joH)(h)?u((0,r.GvO)(h||"",f,"| raw"),d):u(h,d),g=u(n,d);return i.createElement("div",{className:p("EditorControl",a?"EditorControl--".concat(a):"",t,{"is-focused":this.state.focused})},i.createElement(s.zC,{value:g,originValue:v,onChange:this.handleChange,disabled:o,language:d,editorTheme:c,options:l,onFocus:this.handleFocus,onBlur:this.handleBlur,editorDidMount:this.handleEditorMounted}))},t.defaultProps={language:"javascript",editorTheme:"vs",options:{automaticLayout:!1,selectOnLineNumbers:!0,scrollBeyondLastLine:!1,folding:!0,minimap:{enabled:!1}},diffValue:""},t}(i.Component),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(t,e),t.defaultProps=(0,o.Cl)({},a.defaultProps),(0,o.Cg)([(0,r.eIh)({type:"diff-editor",sizeMutable:!1})],t)}(a)}}]);