"use strict";(self.webpackChunktestAmis=self.webpackChunktestAmis||[]).push([[992],{10992:function(e,t,n){n.r(t),n.d(t,{IconPickerControlRenderer:function(){return y},default:function(){return g}});var o=n(31635),i=n(96540),s=n(32485),a=n.n(s),r=n(51545),l=n(36545),p=n.n(l),u=n(27648),c=n(8096),d=n(75992),h=n(65408),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1,inputValue:"",isFocused:!1,vendorIndex:0},t}return(0,o.C6)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props;e.value!==t.value&&this.setState({inputValue:""})},t.prototype.changeVendor=function(e){this.setState({vendorIndex:e},this.formatOptions)},t.prototype.formatOptions=function(){var e=this.state.vendorIndex||0,t=d.Z[e],n=t.prefix;return t.icons.map((function(e){return{label:n+e,value:n+e}}))},t.prototype.getVendors=function(){return d.Z.map((function(e){return e.name}))},t.prototype.inputRef=function(e){this.input=e},t.prototype.focus=function(){if(this.input){this.input.focus();var e=this.input.value.length;e&&this.input.setSelectionRange(e,e)}},t.prototype.handleClick=function(){this.props.disabled||(this.focus(),this.setState({isOpen:!0}))},t.prototype.handleFocus=function(e){this.setState({isOpen:!0,isFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},t.prototype.handleBlur=function(e){var t=this.props,n=t.onBlur,o=t.trimContents,i=t.value,s=t.onChange;this.setState({isFocused:!1},(function(){o&&i&&"string"==typeof i&&s(i.trim())})),n&&n(e)},t.prototype.handleInputChange=function(e){var t=e.currentTarget.value;this.setState({inputValue:t})},t.prototype.handleKeyDown=function(e){if("backspace"===p()(e.keyCode)){var t=this.props.onChange;this.state.inputValue||(t(""),this.setState({inputValue:""}))}},t.prototype.handleChange=function(e){var t=this.props,n=t.onChange;t.disabled||(n(e),this.setState({isFocused:!1,inputValue:""}))},t.prototype.handleStateChange=function(e){switch(e.type){case u.Ay.stateChangeTypes.itemMouseEnter:case u.Ay.stateChangeTypes.changeInput:this.setState({isOpen:!0});break;default:var t={};void 0!==e.isOpen&&(t.isOpen=e.isOpen),this.state.isOpen&&!1===e.isOpen&&(t.inputValue=""),this.setState(t)}},t.prototype.handleClear=function(){var e=this,t=this.props,n=t.onChange,o=t.resetValue;null==n||n(o),this.setState({inputValue:o,isFocused:!0},(function(){e.focus()}))},t.prototype.renderFontIcons=function(){var e=this,t=this.props,n=t.className,s=t.inputOnly,a=t.placeholder,l=t.classnames,p=t.name,c=t.value,d=t.noDataTip,g=t.disabled,y=t.clearable,m=t.translate,C=this.formatOptions(),v=this.getVendors();return i.createElement(u.Ay,{isOpen:this.state.isOpen,inputValue:this.state.inputValue,onChange:this.handleChange,onOuterClick:this.handleBlur,onStateChange:this.handleStateChange,selectedItem:[c]},(function(t){var u=t.getInputProps,f=t.getItemProps,S=t.isOpen,k=t.inputValue,I=k&&S?(0,r.Ht)(C,k,{keys:["label","value"],threshold:r.Ht.rankings.CONTAINS}):C;return i.createElement("div",{className:l("IconPickerControl-input IconPickerControl-input--withAC",s?n:"",{"is-opened":S}),onClick:e.handleClick},i.createElement("div",{className:l("IconPickerControl-valueWrap")},!a||c||e.state.inputValue?null:i.createElement("div",{className:l("IconPickerControl-placeholder")},a),!c||k&&S?null:i.createElement("div",{className:l("IconPickerControl-value")},i.createElement("i",{className:l(c)}),"string"==typeof c?c:""),i.createElement("input",(0,o.Cl)({},u({name:p,ref:e.inputRef,onFocus:e.handleFocus,onChange:e.handleInputChange,onKeyDown:e.handleKeyDown,value:e.state.inputValue}),{autoComplete:"off",disabled:g,size:10})),y&&!g&&c?i.createElement("a",{onClick:e.handleClear,className:l("IconPickerControl-clear")},i.createElement(h.In,{icon:"input-clear",className:"icon"})):null),S?i.createElement("div",{className:l("IconPickerControl-sugsPanel")},v.length>1?i.createElement("div",{className:l("IconPickerControl-tabs")},v.map((function(t,n){return i.createElement("div",{className:l("IconPickerControl-tab",{active:e.state.vendorIndex===n}),onClick:function(){return e.changeVendor(n)},key:n},t)}))):null,I.length?i.createElement("div",{className:l("IconPickerControl-sugs",v.length>1?"IconPickerControl-multiVendor":"IconPickerControl-singleVendor")},I.map((function(e,t){return i.createElement("div",(0,o.Cl)({},f({item:e.value,className:l("IconPickerControl-sugItem",{"is-active":c===e.value})}),{key:t}),i.createElement("i",{className:l("".concat(e.value)),title:"".concat(e.value)}))}))):i.createElement("div",{className:l(v.length>1?"IconPickerControl-multiVendor":"IconPickerControl-singleVendor")},m(d))):null)}))},t.prototype.render=function(){var e=this.props,t=e.className;e.style;var n=e.classPrefix,o=e.inputOnly,s=e.disabled,r=this.renderFontIcons();return o?r:i.createElement("div",{className:a()(t,"".concat(n,"IconPickerControl"),{"is-focused":this.state.isFocused,"is-disabled":s})},r)},t.defaultProps={resetValue:"",placeholder:"",noDataTip:"placeholder.noData"},(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Number]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"changeVendor",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"formatOptions",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"getVendors",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Object]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"inputRef",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"focus",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"handleClick",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Object]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"handleFocus",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Object]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"handleBlur",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Object]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"handleInputChange",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Object]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"handleKeyDown",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Object]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"handleChange",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Object]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"handleStateChange",null),(0,o.Cg)([c.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[]),(0,o.Sn)("design:returntype",void 0)],t.prototype,"handleClear",null),t}(i.PureComponent),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(t,e),(0,o.Cg)([(0,c.eIh)({type:"icon-picker"})],t)}(g)}}]);