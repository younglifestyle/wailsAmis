(self.webpackChunktestAmis=self.webpackChunktestAmis||[]).push([[6374],{96374:function(e,t,n){"use strict";n.r(t),n.d(t,{CheckboxesControlRenderer:function(){return p},default:function(){return d}});var l=n(31635),o=n(96540),i=n(59104),r=n.n(i),s=n(8096),a=n(65408),c=n(66283),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.C6)(t,e),t.prototype.doAction=function(e,t,n){var l,o,i=this.props,r=i.resetValue,a=i.onChange,c=i.formStore,d=i.store,p=i.name,h=null==e?void 0:e.actionType;if("clear"===h)a("");else if("reset"===h){var u=null!==(o=(0,s.dnO)(null!==(l=null==c?void 0:c.pristine)&&void 0!==l?l:null==d?void 0:d.pristine,p))&&void 0!==o?o:r;a(null!=u?u:"")}},t.prototype.reload=function(){var e=this.props.reloadOptions;e&&e()},t.prototype.handleAddClick=function(){var e=this.props.onAdd;e&&e()},t.prototype.handleEditClick=function(e,t){var n=this.props.onEdit;e.preventDefault(),e.stopPropagation(),n&&n(t)},t.prototype.handleDeleteClick=function(e,t){var n=this.props.onDelete;e.preventDefault(),e.stopPropagation(),n&&n(t)},t.prototype.componentDidMount=function(){this.updateBorderStyle(),window.addEventListener("resize",this.updateBorderStyle)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateBorderStyle)},t.prototype.updateBorderStyle=function(){if("button"===this.props.optionType){var e=this.refs.checkboxRef,t=e.clientWidth,n=Array.from(e.children);n.forEach((function(e){e.style.borderRadius="0",e.style.borderLeftWidth="1px",e.style.borderTopWidth="1px"}));var l=n.reduce((function(e,t){return e+t.clientWidth}),0);if(l<=t)1===n.length?n[0].style.borderRadius="4px":(n[0].style.borderRadius="4px 0 0 4px",n[n.length-1].style.borderRadius="0 4px 4px 0",n.forEach((function(e,t){0!==t&&(e.style.borderLeftWidth="0")})));else{for(var o=0,i=0,r=Math.floor(l/t),s=[],a=0;a<=r;a++)s[a]=[];n.forEach((function(e,n){(o+=e.clientWidth)>t&&(o=e.clientWidth,i++),i>r||s[i].push(e)})),s.forEach((function(e,t){0===t?(e.forEach((function(n,l){n.style.borderRadius="0",0!==l&&(n.style.borderLeftWidth="0"),e.length>s[t+1].length&&(e[e.length-1].style.borderBottomRightRadius="4px")})),e[0].style.borderTopLeftRadius="4px",e[e.length-1].style.borderTopRightRadius="4px"):t===r?e.forEach((function(t,n){t.style.borderRadius="0",0!==n&&(t.style.borderLeftWidth="0"),t.style.borderTopWidth="0",e[0].style.borderBottomLeftRadius="4px",e[e.length-1].style.borderBottomRightRadius="4px"})):e.forEach((function(n,l){n.style.borderRadius="0",0!==l&&(n.style.borderLeftWidth="0"),n.style.borderTopWidth="0",e.length>s[t+1].length&&(e[e.length-1].style.borderBottomRightRadius="4px")}))}))}}},t.prototype.renderGroup=function(e,t){var n,l=this,i=this.props,r=i.classnames,s=i.labelField;if(!(null===(n=e.children)||void 0===n?void 0:n.length))return null;var a=e.children.map((function(e,t){return l.renderItem(e,t)})),c=this.columnsSplit(a);return o.createElement("div",{key:"group-"+t,className:r("CheckboxesControl-group",e.className)},o.createElement("label",{className:r("CheckboxesControl-groupLabel",e.labelClassName)},e[s||"label"]),c)},t.prototype.renderItem=function(e,t){var n=this;if(e.children)return this.renderGroup(e,t);var l=this.props,i=l.render,r=l.itemClassName,c=l.onToggle,d=l.selectedOptions,p=l.disabled,h=l.inline,u=l.labelClassName,m=l.labelField,b=l.removable,f=l.editable,C=l.translate,y=l.optionType,g=l.menuTpl,k=l.data,v=l.testIdBuilder,x=String(e[m||"label"]),N=e.labelClassName,E=null==v?void 0:v.getChild("item-"+x||0);return o.createElement(a.Sc,{className:r,key:t,onChange:function(){return c(e)},checked:!!~d.indexOf(e),disabled:p||e.disabled,inline:h,labelClassName:N||u,description:e.description,optionType:y,testIdBuilder:E},g?i("checkboxes/".concat(t),g,{data:(0,s.ed2)(k,e)}):x,b&&(0,s.Bdw)(e,"removable")?o.createElement("a",{"data-tooltip":C("Select.clear"),"data-position":"left"},o.createElement(a.In,{icon:"minus",className:"icon",onClick:function(t){return n.handleDeleteClick(t,e)}})):null,f&&(0,s.Bdw)(e,"editable")?o.createElement("a",{"data-tooltip":"编辑","data-position":"left"},o.createElement(a.In,{icon:"pencil",className:"icon",onClick:function(t){return n.handleEditClick(t,e)}})):null)},t.prototype.columnsSplit=function(e){var t=this.props,n=t.columnsCount,l=t.classnames,o=[],i=[];return e.forEach((function(e){e&&e.key&&String(e.key).startsWith("group")?(i.length&&(o.push((0,s.O_7)(i,l,n)),i=[]),o.push(e)):i.push(e)})),i.length&&o.push((0,s.O_7)(i,l,n)),o},t.prototype.formateThemeCss=function(e){if(!e)return{};var t=e.checkboxesClassName,n=void 0===t?{}:t,o={},i={};return Object.keys(n).forEach((function(e){if(e.includes("checked-")){var t=e.replace("checked-","");i[t]=n[e]}else e.includes("checkbox-")&&(t=e.replace("checkbox-",""),o[t]=n[e])})),(0,l.Cl)((0,l.Cl)({},e),{checkboxesClassName:o,checkboxesCheckedClassName:i})},t.prototype.render=function(){var e=this,t=this.props,n=t.className;t.style;var i=t.disabled,c=t.placeholder,d=t.options,p=t.inline;t.columnsCount;var h=t.selectedOptions;t.onToggle;var u=t.onToggleAll,m=t.checkAll,b=t.checkAllText,f=t.classnames,C=t.itemClassName,y=t.labelClassName,g=t.creatable,k=t.addApi,v=t.createBtnLabel,x=t.translate,N=t.optionType,E=t.loading,S=t.loadingConfig,R=t.themeCss,T=t.id,B=t.env,L=t.classPrefix,A=[];d&&d.length&&(A=d.map((function(t,n){return e.renderItem(t,n)}))),m&&A.length&&"default"===N&&A.unshift(o.createElement(a.Sc,{key:"checkall",className:C,onChange:u,checked:!!h.length,partial:r()(h.length,0,(0,s.koz)(d).length),disabled:i,inline:p,labelClassName:y},null!=b?b:x("Checkboxes.selectAll"))),A=this.columnsSplit(A);var W=this.formateThemeCss(R);return o.createElement("div",{className:f("CheckboxesControl",n,(0,s.NH8)((0,l.Cl)((0,l.Cl)({},this.props),{name:"checkboxesClassName",id:T,themeCss:W})),(0,s.NH8)((0,l.Cl)((0,l.Cl)({},this.props),{name:"checkboxesCheckedClassName",id:T,themeCss:W})),(0,s.NH8)((0,l.Cl)((0,l.Cl)({},this.props),{name:"checkboxesLabelClassName",id:T,themeCss:W}))),ref:"checkboxRef"},A&&A.length?A:E?null:o.createElement("span",{className:"Form-placeholder"},x(c)),E?o.createElement(a.y$,{show:!0,icon:"reload",size:"sm",spinnerClassName:f("Checkboxes-spinner"),loadingConfig:S}):null,!g&&!k||i?null:o.createElement("a",{className:f("Checkboxes-addBtn"),onClick:this.handleAddClick},o.createElement(a.In,{icon:"plus",className:"icon"}),x(v)),o.createElement(s.z4D,(0,l.Cl)({},this.props,{config:{themeCss:this.formateThemeCss(R),classNames:[{key:"checkboxesClassName",weights:{default:{suf:" label",inner:"i"},hover:{suf:" label",inner:"i"},disabled:{inner:".".concat(L,"Checkbox--checkbox input[disabled] + i")}}},{key:"checkboxesCheckedClassName",weights:{default:{inner:".".concat(L,"Checkbox--checkbox input:checked + i")},hover:{suf:" .".concat(L,"Checkbox--checkbox"),inner:"input:checked + i"},disabled:{inner:".".concat(L,"Checkbox--checkbox input:checked[disabled] + i")}}},{key:"checkboxesLabelClassName",weights:{default:{suf:" label",inner:"span"},hover:{suf:" label",inner:"span"},disabled:{inner:".".concat(L,"Checkbox--checkbox input[disabled] + i + span")}}}],id:T},env:B})))},t.defaultProps={columnsCount:1,multiple:!0,placeholder:"placeholder.noOption",creatable:!1,inline:!0,createBtnLabel:"Select.createLabel",optionType:"default"},(0,l.Cg)([s.d6t,(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[]),(0,l.Sn)("design:returntype",void 0)],t.prototype,"handleAddClick",null),(0,l.Cg)([s.d6t,(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Event,Object]),(0,l.Sn)("design:returntype",void 0)],t.prototype,"handleEditClick",null),(0,l.Cg)([s.d6t,(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Event,Object]),(0,l.Sn)("design:returntype",void 0)],t.prototype,"handleDeleteClick",null),(0,l.Cg)([s.d6t,(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[]),(0,l.Sn)("design:returntype",void 0)],t.prototype,"updateBorderStyle",null),(0,l.Cg)([(0,c.E)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[]),(0,l.Sn)("design:returntype",void 0)],t.prototype,"render",null),t}(o.Component),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.C6)(t,e),(0,l.Cg)([(0,s.QqA)({type:"checkboxes",sizeMutable:!1,thin:!0})],t)}(d)},17678:function(e){var t=Math.max,n=Math.min;e.exports=function(e,l,o){return e>=n(l,o)&&e<t(l,o)}},59104:function(e,t,n){var l=n(17678),o=n(17400),i=n(99374);e.exports=function(e,t,n){return t=o(t),void 0===n?(n=t,t=0):n=o(n),e=i(e),l(e,t,n)}}}]);