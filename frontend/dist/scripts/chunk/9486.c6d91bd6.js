"use strict";(self.webpackChunktestAmis=self.webpackChunktestAmis||[]).push([[3564,9486],{73564:function(e,t,n){n.r(t),n.d(t,{BaseTabsTransferRenderer:function(){return h},TabsTransferRenderer:function(){return v}});var r=n(31635),i=n(8096),a=n(96540),o=n(7309),l=n.n(o),s=n(65408),d=n(61816),u=n(63063),p=n(66283),c=n(51545),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeKey:0},t}return(0,r.C6)(t,e),t.prototype.onTabChange=function(e){return(0,r.sH)(this,void 0,void 0,(function(){var t;return(0,r.YH)(this,(function(n){switch(n.label){case 0:return[4,(0,this.props.dispatchEvent)("tab-change",{key:e})];case 1:return(null==(t=n.sent())?void 0:t.prevented)||this.setState({activeKey:e}),[2]}}))}))},t.prototype.handleTabSearch=function(e,t,n){return(0,r.sH)(this,void 0,void 0,(function(){var a,o,s,d,u,p,h,v,y,g,f;return(0,r.YH)(this,(function(r){switch(r.label){case 0:if(a=this.props,o=a.options,s=a.labelField,d=a.valueField,u=a.env,p=a.data,h=a.searchApi,v=a.translate,!h)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.fetcher(h,(0,i.ed2)(p,{term:e}),{cancelExecutor:n})];case 2:if(!(y=r.sent()).ok)throw new Error(v(y.msg||"networkError"));if(g=y.data.options||y.data.items||y.data,!Array.isArray(g))throw new Error(v("CRUD.invalidArray"));return[2,g.map((function(e){var t=null,n=e[d||"value"];return Array.isArray(o)&&null!=n&&(t=l()(o,(0,i.UjQ)(n,d))),t||e}))];case 3:return f=r.sent(),u.isCancel(f)||!h.silent&&u.notify("error",f.message),[2,[]];case 4:return[3,6];case 5:return e?[2,(0,i.hVz)(t.children||o,(function(t,n,r,i){return!!(Array.isArray(t.children)&&t.children.length||(0,c.Ht)([t].concat(i),e,{keys:[s||"label",d||"value"],threshold:c.Ht.rankings.CONTAINS}).length)}),0,!0)]:[2,o];case 6:return[2]}}))}))},t.prototype.handleChange=function(e,t){return(0,r.sH)(this,void 0,void 0,(function(){var n,a,o,l,s,d,u,p,c,h,v,y,g,f;return(0,r.YH)(this,(function(m){switch(m.label){case 0:return n=this.props,a=n.onChange,o=n.joinValues,l=n.delimiter,s=n.valueField,d=n.extractValue,u=n.options,p=n.dispatchEvent,c=n.setOptions,h=n.translate,v=e,y=u.concat(),g="UN_MATCH_RESULT",Array.isArray(e)?(v=e.map((function(e){var n=(0,i.iXH)(u,(0,i.UjQ)(e[s||"value"],s||"value"));if(n){if(t){var a=(0,i.Jvj)(y,n);y=(0,i.Z6D)(y,n,1,(0,r.Cl)((0,r.Cl)({},a),e))}}else{var l=(0,i.iXH)(y,(function(e){return e.value===g}));if(l){var p=(0,i.Jvj)(y,l);(null==p?void 0:p.children)&&(p.children.push(e),y=(0,i.Z6D)(y,l,1,(0,r.Cl)((0,r.Cl)({},p),e)))}else y.push({label:h("searchResult"),value:g,visible:!1,children:[e]})}return o||d?e[s||"value"]:e})),o&&(v=v.join(l||","))):e&&(v=o||d?e[s||"value"]:e),(y.length>u.length||t)&&c(y,!0),[4,p("change",(0,i.RKM)(this.props,{value:v,options:u,items:u}))];case 1:return(null==(f=m.sent())?void 0:f.prevented)||a(v),[2]}}))}))},(0,r.Cg)([i.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Number]),(0,r.Sn)("design:returntype",Promise)],t.prototype,"onTabChange",null),(0,r.Cg)([i.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[String,Object,Function]),(0,r.Sn)("design:returntype",Promise)],t.prototype,"handleTabSearch",null),(0,r.Cg)([i.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Boolean]),(0,r.Sn)("design:returntype",Promise)],t.prototype,"handleChange",null),t}(d.BaseTransferRenderer),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.C6)(t,e),t.prototype.optionItemRender=function(e,t){var n=this.props,a=n.menuTpl,o=n.render,l=n.data,s=n.classnames,d=arguments[2]||{};return a?o("item/".concat(t.index),a,{data:(0,i.ed2)((0,i.ed2)(l,(0,r.Cl)((0,r.Cl)({},t),d)),e)}):u.qZ.itemRender(e,(0,r.Cl)((0,r.Cl)({},t),{classnames:s}))},t.prototype.doAction=function(e,t,n,r){var a,o,l,s=this.props,d=s.resetValue,u=s.onChange,p=s.formStore,c=s.store,h=s.name,v=null==r?void 0:r.activeKey;switch(e.actionType){case"clear":null==u||u("");break;case"reset":null==u||u(null!==(l=null!==(o=(0,i.dnO)(null!==(a=null==p?void 0:p.pristine)&&void 0!==a?a:null==c?void 0:c.pristine,h))&&void 0!==o?o:d)&&void 0!==l?l:"");break;case"changeTabKey":this.setState({activeKey:v})}},t.prototype.render=function(){var e=this.props,t=e.className;e.style;var n=e.classnames,r=e.options,o=e.selectedOptions,l=e.sortable,d=e.loading,u=e.searchResultMode,p=e.selectMode,c=e.searchable,h=e.showArrow,v=e.deferLoad,y=e.leftDeferLoad,g=e.disabled,f=e.selectTitle,m=e.resultTitle,b=e.itemHeight,C=e.virtualThreshold,T=e.onlyChildren,S=e.loadingConfig,R=e.valueField,w=void 0===R?"value":R,F=e.labelField,A=void 0===F?"label":F,E=e.valueTpl,I=e.menuTpl,O=e.data,k=e.mobileUI,H=e.initiallyOpen,j=void 0===H||H,K=e.testIdBuilder;return a.createElement("div",{className:n("TabsTransferControl",t)},a.createElement(s.uX,{onlyChildren:T,activeKey:this.state.activeKey,value:o,disabled:g,options:r,onChange:this.handleChange,option2value:this.option2value,sortable:l,searchResultMode:u,onSearch:this.handleTabSearch,showArrow:h,onDeferLoad:v,onLeftDeferLoad:y,selectTitle:f,resultTitle:m,selectMode:p,searchable:c,optionItemRender:I?this.optionItemRender:void 0,resultItemRender:E?this.resultItemRender:void 0,onTabChange:this.onTabChange,itemHeight:(0,i.Roz)(b)>0?(0,i.Roz)(b):void 0,virtualThreshold:C,labelField:A,valueField:w,ctx:O,mobileUI:k,initiallyOpen:j,testIdBuilder:K}),a.createElement(s.y$,{overlay:!0,key:"info",show:d,loadingConfig:S}))},t.defaultProps={multiple:!0},(0,r.Cg)([i.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Object]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"optionItemRender",null),(0,r.Cg)([(0,p.E)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"render",null),(0,r.Cg)([(0,i.QqA)({type:"tabs-transfer"})],t)}(h)},39486:function(e,t,n){n.r(t),n.d(t,{TabsTransferPickerRenderer:function(){return d}});var r=n(31635),i=n(8096),a=n(96540),o=n(65408),l=n(73564),s=n(66283),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeKey:0},t}return(0,r.C6)(t,e),t.prototype.dispatchEvent=function(e){var t=this.props,n=t.dispatchEvent,r=t.value;n(e,(0,i.RKM)(this.props,{value:r}))},t.prototype.optionItemRender=function(e,t){var n=this.props,a=n.menuTpl,l=n.render,s=n.data,d=n.classnames,u=arguments[2]||{};return a?l("item/".concat(t.index),a,{data:(0,i.ed2)((0,i.ed2)(s,(0,r.Cl)((0,r.Cl)({},t),u)),e)}):o.LN.itemRender(e,(0,r.Cl)((0,r.Cl)({},t),{classnames:d}))},t.prototype.doAction=function(e){var t,n,r,a=this.props,o=a.resetValue,l=a.onChange,s=a.formStore,d=a.store,u=a.name;switch(e.actionType){case"clear":null==l||l("");break;case"reset":null==l||l(null!==(r=null!==(n=(0,i.dnO)(null!==(t=null==s?void 0:s.pristine)&&void 0!==t?t:null==d?void 0:d.pristine,u))&&void 0!==n?n:o)&&void 0!==r?r:"")}},t.prototype.render=function(){var e=this,t=this.props,n=t.className;t.style;var r=t.classnames,l=t.options,s=t.selectedOptions,d=t.sortable,u=t.loading,p=t.searchResultMode,c=t.showArrow,h=t.deferLoad,v=t.disabled,y=t.selectTitle,g=t.resultTitle,f=t.pickerSize,m=t.leftMode,b=t.leftOptions,C=t.itemHeight,T=t.virtualThreshold,S=t.loadingConfig,R=t.labelField,w=void 0===R?"label":R,F=t.valueField,A=void 0===F?"value":F,E=t.deferField,I=void 0===E?"defer":E,O=t.mobileUI,k=t.env,H=t.maxTagCount,j=t.overflowTagPopover,K=t.placeholder,M=t.initiallyOpen,L=void 0===M||M;return a.createElement("div",{className:r("TabsTransferControl",n)},a.createElement(o.Yh,{activeKey:this.state.activeKey,onTabChange:this.onTabChange,placeholder:K,value:s,disabled:v,options:l,onChange:this.handleChange,option2value:this.option2value,sortable:d,searchResultMode:p,onSearch:this.handleTabSearch,showArrow:c,onDeferLoad:h,selectTitle:y,resultTitle:g,size:f,leftMode:m,leftOptions:b,optionItemRender:this.optionItemRender,resultItemRender:this.resultItemRender,onFocus:function(){return e.dispatchEvent("focus")},onBlur:function(){return e.dispatchEvent("blur")},itemHeight:(0,i.Roz)(C)>0?(0,i.Roz)(C):void 0,virtualThreshold:T,labelField:w,valueField:A,deferField:I,mobileUI:O,popOverContainer:null==k?void 0:k.getModalContainer,maxTagCount:H,overflowTagPopover:j,initiallyOpen:L}),a.createElement(o.y$,{loadingConfig:S,overlay:!0,key:"info",show:u}))},(0,r.Cg)([i.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[String]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"dispatchEvent",null),(0,r.Cg)([i.d6t,(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Object]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"optionItemRender",null),(0,r.Cg)([(0,s.E)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[]),(0,r.Sn)("design:returntype",void 0)],t.prototype,"render",null),(0,r.Cg)([(0,i.QqA)({type:"tabs-transfer-picker"})],t)}(l.BaseTabsTransferRenderer)}}]);