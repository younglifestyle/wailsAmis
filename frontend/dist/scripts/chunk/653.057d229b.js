"use strict";(self.webpackChunktestAmis=self.webpackChunktestAmis||[]).push([[653],{653:function(t,n,i){i.r(n),i.d(n,{FormulaControlRenderer:function(){return u},default:function(){return a}});var o=i(31635),e=i(96540),r=i(8096),a=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.inited=!1,n}return(0,o.C6)(n,t),n.prototype.componentDidMount=function(){var t=this.props,n=t.formInited,i=t.initSet,o=t.addHook;this.unHook=o?o(this.handleFormInit,"init"):void 0,!1!==n&&(this.inited=!0,!1===i||this.initSet())},n.prototype.componentDidUpdate=function(t){var n=this.props,i=n.formInited,o=n.initSet,e=n.autoSet;this.inited?!1===e||this.autoSet(t):void 0===i&&(this.inited=!0,!1===o||this.initSet())},n.prototype.componentWillUnmount=function(){var t;null===(t=this.unHook)||void 0===t||t.call(this)},n.prototype.handleFormInit=function(t){this.inited=!0;var n=this.props,i=n.name;if(!1!==n.initSet){var o=this.initSet();"string"==typeof i&&void 0!==o&&(0,r.BBb)(t,i,o)}},n.prototype.initSet=function(){var t=this.props,n=t.formula,i=t.data,o=t.setPrinstineValue;t.initSet;var e=t.condition;if(n&&(!e||~e.indexOf("$")||~e.indexOf("<%")||(0,r.k7i)(e,i))){var a=(0,r.k7i)(n,i);return null!==a&&(null==o||o(a)),a}},n.prototype.autoSet=function(t){var n=this.props,i=t.formula,o=t.data,e=t.onChange,a=t.value,u=t.condition;if(i&&n.formula&&(0,r.JQ)(o,n.data,!1)&&a===n.value){var p=(0,r.k7i)(n.formula,n.data);if(u&&n.condition)~u.indexOf("$")||~u.indexOf("<%")?(0,r.pbD)(u,o)!==(0,r.pbD)(n.condition,n.data)&&e(p):(0,r.k7i)(n.condition,n.data)&&e(p);else{var s=(0,r.k7i)(i,o);JSON.stringify(s)!==JSON.stringify(p)&&e(null!=p?p:"")}}},n.prototype.doAction=function(){var t=this.props,n=t.formula,i=t.data,o=t.onChange;t.autoSet,t.value,o((0,r.k7i)(n,i))},n.prototype.render=function(){return null},(0,o.Cg)([r.d6t,(0,o.Sn)("design:type",Function),(0,o.Sn)("design:paramtypes",[Object]),(0,o.Sn)("design:returntype",void 0)],n.prototype,"handleFormInit",null),n}(e.Component),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,o.C6)(n,t),(0,o.Cg)([(0,r.eIh)({type:"formula",wrap:!1,strictMode:!1,sizeMutable:!1})],n)}(a)}}]);