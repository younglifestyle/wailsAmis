"use strict";(self.webpackChunktestAmis=self.webpackChunktestAmis||[]).push([[3716],{93716:function(t,e,n){n.r(e),n.d(e,{Tpl:function(){return l},TplRenderer:function(){return u}});var s=n(31635),o=n(96540),i=n(8096),r=n(62193),p=n.n(r),a=n(65408),l=function(t){function e(e){var n=t.call(this,e)||this;return n.sn=0,n.state={content:n.getContent()},n.mounted=!0,n}return(0,s.C6)(e,t),e.prototype.componentDidUpdate=function(t){var e=this;!["tpl","html","text","raw","data","placeholder"].some((function(n){return!Object.is(t[n],e.props[n])}))&&Object.is((0,i.$_G)(t),(0,i.$_G)(this.props))||this.updateContent()},e.prototype.componentDidMount=function(){this.updateContent()},e.prototype.componentWillUnmount=function(){this.mounted=!1},e.prototype.updateContent=function(){return(0,s.sH)(this,void 0,void 0,(function(){var t,e;return(0,s.YH)(this,(function(n){switch(n.label){case 0:return t=++this.sn,[4,this.getAsyncContent()];case 1:return e=n.sent(),t!==this.sn||this.mounted&&this.setState({content:e}),[2]}}))}))},e.prototype.getContent=function(){var t=this.props,e=t.tpl,n=t.html,s=t.text,o=t.raw,r=t.data,p=t.placeholder,a=(0,i.$_G)(this.props);return o||(n?(0,i.pbD)(n,r):e?(0,i.pbD)(e,r):s?(0,i.ZD5)((0,i.pbD)(s,r)):null==a||""===a?'<span class="text-muted">'.concat(p,"</span>"):"string"==typeof a?a:JSON.stringify(a))},e.prototype.getAsyncContent=function(){return(0,s.sH)(this,void 0,void 0,(function(){var t,e,n,o,r,p,a,l,u;return(0,s.YH)(this,(function(s){switch(s.label){case 0:return t=this.props,e=t.tpl,n=t.html,o=t.text,r=t.data,p=t.raw,a=t.placeholder,l=(0,i.$_G)(this.props),p?[2,p]:[3,1];case 1:return n?[2,(0,i.j7o)(n,r)]:[3,2];case 2:return e?[2,(0,i.j7o)(e,r)]:[3,3];case 3:return o?(u=i.ZD5,[4,(0,i.j7o)(o,r)]):[3,5];case 4:return[2,u.apply(void 0,[s.sent()])];case 5:return[2,null==l||""===l?'<span class="text-muted">'.concat(a,"</span>"):"string"==typeof l?l:JSON.stringify(l)]}}))}))},e.prototype.getTitle=function(t){var e;if(!this.props.showNativeTitle)return"";var n="string"==typeof t?t:"",s=(new DOMParser).parseFromString(t,"text/html");return(null===(e=null==s?void 0:s.body)||void 0===e?void 0:e.textContent)&&(n=s.body.textContent),n},e.prototype.handleClick=function(t){var e=this.props;(0,e.dispatchEvent)(t,e.data)},e.prototype.handleMouseEnter=function(t){var e=this.props;(0,e.dispatchEvent)(t,e.data)},e.prototype.handleMouseLeave=function(t){var e=this.props;(0,e.dispatchEvent)(t,e.data)},e.prototype.render=function(){var t,e=this.props,n=e.className,r=e.wrapperComponent,a=e.inline,l=e.classnames,u=e.style,d=e.maxLine,c=e.showNativeTitle,h=e.data,y=e.id,m=e.wrapperCustomStyle,g=e.env,C=e.themeCss,v=e.testIdBuilder,f=r||(a?"span":"div"),S=this.state.content,b={},w="";return d>0&&(w="max-line",b.WebkitLineClamp=+d),o.createElement(f,(0,s.Cl)({className:l("TplField",n,(0,i.NH8)((0,s.Cl)((0,s.Cl)({},this.props),{name:"baseControlClassName",id:y,themeCss:C})),(0,i.NH8)((0,s.Cl)((0,s.Cl)({},this.props),{name:"wrapperCustomStyle",id:y,themeCss:m}))),style:(0,i.K8U)(u,h)},c?{title:this.getTitle(S)}:{},{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},null===(t=null==v?void 0:v.getChild("tpl"))||void 0===t?void 0:t.getTestId()),o.createElement("span",{className:w?l(w):void 0,style:p()(b)?void 0:b,dangerouslySetInnerHTML:{__html:g.filterHtml(S)}}),o.createElement(i.z4D,(0,s.Cl)({},this.props,{config:{wrapperCustomStyle:m,id:y,themeCss:C,classNames:[{key:"baseControlClassName"}]},env:g})))},e.defaultProps={inline:!0,placeholder:""},(0,s.Cg)([i.d6t,(0,s.Sn)("design:type",Function),(0,s.Sn)("design:paramtypes",[]),(0,s.Sn)("design:returntype",Promise)],e.prototype,"updateContent",null),(0,s.Cg)([i.d6t,(0,s.Sn)("design:type",Function),(0,s.Sn)("design:paramtypes",[]),(0,s.Sn)("design:returntype",void 0)],e.prototype,"getContent",null),(0,s.Cg)([i.d6t,(0,s.Sn)("design:type",Function),(0,s.Sn)("design:paramtypes",[]),(0,s.Sn)("design:returntype",Promise)],e.prototype,"getAsyncContent",null),(0,s.Cg)([i.d6t,(0,s.Sn)("design:type",Function),(0,s.Sn)("design:paramtypes",[String]),(0,s.Sn)("design:returntype",void 0)],e.prototype,"getTitle",null),(0,s.Cg)([i.d6t,(0,s.Sn)("design:type",Function),(0,s.Sn)("design:paramtypes",[Object]),(0,s.Sn)("design:returntype",void 0)],e.prototype,"handleClick",null),(0,s.Cg)([i.d6t,(0,s.Sn)("design:type",Function),(0,s.Sn)("design:paramtypes",[Object]),(0,s.Sn)("design:returntype",void 0)],e.prototype,"handleMouseEnter",null),(0,s.Cg)([i.d6t,(0,s.Sn)("design:type",Function),(0,s.Sn)("design:paramtypes",[Object]),(0,s.Sn)("design:returntype",void 0)],e.prototype,"handleMouseLeave",null),e}(o.Component),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.C6)(e,t),(0,s.Cg)([(0,i.A49)({type:"tpl",alias:["html"],name:"tpl"}),a.GU],e)}(l)}}]);