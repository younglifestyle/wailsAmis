"use strict";(self.webpackChunktestAmis=self.webpackChunktestAmis||[]).push([[6669],{56669:function(t,e,n){n.r(e),n.d(e,{WizardRenderer:function(){return l},default:function(){return c}});var a=n(31635),i=n(96540),r=n(8096),s=n(65408),o=n(2404),p=n.n(o),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initalValues={},e.state={currentStep:-1,completeStep:-1,rawSteps:[]},e}return(0,a.C6)(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props,n=e.initApi,a=e.initFetch,i=e.initAsyncApi,s=e.initFinishedField,o=e.store,p=e.messages,c=p.fetchSuccess,d=p.fetchFailed;e.onInit,(0,r.Amo)(n,o.data,a)?o.fetchInitData(n,o.data,{successMessage:c,errorMessage:d,onSuccess:function(){if((0,r.Amo)(i,o.data)&&!o.data[s||"finished"])return(0,r.TG4)((function(){return o.checkRemote(i,o.data)}),(function(t){return t&&t[s||"finished"]}),(function(e){return t.asyncCancel=e}))}}).then((function(e){t.handleFetchInitEvent(e);var n={currentStep:"string"==typeof t.props.startStep?(0,r.Roz)((0,r.qwG)(t.props.startStep,(0,r.ed2)(t.props.data,(null==e?void 0:e.data)||{})),1):1};return e&&e.data&&("number"==typeof e.data.step||"string"==typeof e.data.step&&/^\d+$/.test(e.data.step))&&(n.currentStep=(0,r.Roz)(e.data.step,1)),t.setState(n,(function(){e&&e.data&&(e.data.submiting||e.data.submited)&&t.checkSubmit()})),e})):this.setState({currentStep:"string"==typeof this.props.startStep?(0,r.Roz)((0,r.qwG)(this.props.startStep,this.props.data),1):1}),this.normalizeSteps(o.data)},e.prototype.componentDidUpdate=function(t){var e=this.props,n=e.store,a=e.fetchSuccess,i=e.fetchFailed;p()(t.steps,e.steps)&&p()(t.data,e.data)||this.normalizeSteps(e.data),(0,r.B92)(t.initApi,e.initApi,t.data,e.data)&&n.fetchData(e.initApi,n.data,{successMessage:a,errorMessage:i})},e.prototype.componentWillUnmount=function(){this.asyncCancel&&this.asyncCancel()},e.prototype.dispatchEvent=function(t,e){var n;return(0,a.sH)(this,void 0,void 0,(function(){var i,s,o,p;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return i=this.props,s=i.dispatchEvent,o=i.data,[4,s(t,e?(0,r.ed2)(o,e):o)];case 1:return p=a.sent(),[2,null!==(n=null==p?void 0:p.prevented)&&void 0!==n&&n]}}))}))},e.prototype.handleFetchInitEvent=function(t){var e;return(0,a.sH)(this,void 0,void 0,(function(){var n,i,r;return(0,a.YH)(this,(function(s){switch(s.label){case 0:return n=this.props,i=n.onInit,r=n.store,[4,this.dispatchEvent("inited",(0,a.Cl)((0,a.Cl)({},r.data),{responseData:t.ok?null!==(e=r.data)&&void 0!==e?e:{}:t,responseStatus:void 0===(null==t?void 0:t.status)?r.error?1:0:null==t?void 0:t.status,responseMsg:r.msg}))];case 1:return s.sent()&&i&&i(r.data),[2]}}))}))},e.prototype.normalizeSteps=function(t){return(0,a.sH)(this,void 0,void 0,(function(){var e,n,i,s,o,p;return(0,a.YH)(this,(function(c){switch(c.label){case 0:e=this.props,n=e.steps,i=e.translate,s=[],o=n.length,p=0,c.label=1;case 1:return p<o?[4,(0,r.JnN)(n[p].hiddenOn,t)]:[3,4];case 2:!c.sent()&&s.push(n[p]),c.label=3;case 3:return p++,[3,1];case 4:return this.setState({rawSteps:s.map((function(t,e){return(0,a.Cl)((0,a.Cl)({},t),{hiddenOn:"",title:t.title||t.label||i("Steps.step",{index:e+1})})}))}),[2]}}))}))},e.prototype.gotoStep=function(t){return(0,a.sH)(this,void 0,void 0,(function(){var e;return(0,a.YH)(this,(function(n){switch(n.label){case 0:return e=this.state.rawSteps,(t=Math.max(Math.min(e.length,t),1))==this.state.currentStep?[3,2]:[4,this.dispatchEvent("stepChange",{step:t})];case 1:if(n.sent())return[2];this.setState({currentStep:t,completeStep:Math.max(this.state.completeStep,t-1)}),n.label=2;case 2:return[2]}}))}))},e.prototype.formRef=function(t){if(t){for(;t&&t.getWrappedInstance;)t=t.getWrappedInstance();this.form=t}else this.form=void 0},e.prototype.submitToTarget=function(t,e){throw new Error("Please implements this!")},e.prototype.reloadTarget=function(t,e){throw new Error("Please implements this!")},e.prototype.reload=function(t,e,n,i,s){return(0,a.sH)(this,void 0,void 0,(function(){var t,n,i,o,p,c,d,l,u,h,f=this;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return e?[2,this.receive(e,void 0,s)]:(t=this.props,n=t.initApi,i=t.initAsyncApi,o=t.initFinishedField,p=t.store,c=t.messages,d=c.fetchSuccess,l=c.fetchFailed,(0,r.Amo)(n,p.data)&&1===this.state.currentStep?[4,p.fetchInitData(n,p.data,{successMessage:d,errorMessage:l,onSuccess:function(){if((0,r.Amo)(i,p.data)&&!p.data[o||"finished"])return(0,r.TG4)((function(){return p.checkRemote(i,p.data)}),(function(t){return t&&t[o||"finished"]}),(function(t){return f.asyncCancel=t}))}})]:[3,2]);case 1:u=a.sent(),h={currentStep:1},u&&u.data&&("number"==typeof u.data.step||"string"==typeof u.data.step&&/^\d+$/.test(u.data.step))&&(h.currentStep=(0,r.Roz)(u.data.step,1)),this.setState(h,(function(){u&&u.data&&(u.data.submiting||u.data.submited)&&f.checkSubmit()})),a.label=2;case 2:return[2,p.data]}}))}))},e.prototype.receive=function(t,e,n){return this.props.store.updateData(t,void 0,n),this.reload()},e.prototype.domRef=function(t){this.dom=t},e.prototype.getPopOverContainer=function(){return this.dom},e.prototype.checkSubmit=function(){var t,e=this,n=this.props,a=n.store,i=n.asyncApi,s=n.finishedField,o=n.env,p=this.state.rawSteps,c=p[this.state.currentStep-1],d=c&&c.asyncApi||this.state.currentStep===p.length&&i;c&&(0,r.Amo)(d,a.data)&&(a.markSaving(!0),a.updateData(((t={})[s||"finished"]=!1,t)),(0,r.TG4)((function(){return a.checkRemote(d,a.data)}),(function(t){return t&&t[s||"finished"]}),(function(t){return e.asyncCancel=t})).then((function(){a.markSaving(!1),e.gotoStep(e.state.currentStep+1)})).catch((function(t){!d.silent&&o.notify("error",t.message),a.markSaving(!1)})))},e.prototype.handleAction=function(t,e,n,i,s){var o=this;void 0===i&&(i=!1);var p=this.props,c=p.onAction,d=p.store,l=p.env,u=this.state.rawSteps;if("next"===e.actionType||"submit"===e.type||"step-submit"===e.actionType)this.form.doAction((0,a.Cl)((0,a.Cl)({},e),{actionType:"submit"}),n);else if("prev"===e.actionType)this.gotoStep(this.state.currentStep-1);else if("reset"===e.type)this.form.reset();else{if("dialog"===e.actionType)return d.setCurrentAction(e,this.props.resolveDefinitions),new Promise((function(t){d.openDialog(n,void 0,(function(n,a){var i;null===(i=e.callback)||void 0===i||i.call(e,n,a),t({confirmed:n,value:a})}),s||o.context)}));if("ajax"===e.actionType)return e.api?d.saveRemote(e.api,n,{successMessage:e.messages&&e.messages.success,errorMessage:e.messages&&e.messages.failed}).then((function(){return(0,a.sH)(o,void 0,void 0,(function(){var t,n,i;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return this.form&&this.form.isValidated()&&this.form.validate(!0),(t=e.feedback)&&(0,r.zNq)(t,d.data)?[4,this.openFeedback(t,d.data)]:[3,2];case 1:if(n=a.sent(),t.skipRestOnCancel&&!n)throw new r.$aK;if(t.skipRestOnConfirm&&n)throw new r.$aK;a.label=2;case 2:return(i=e.redirect&&(0,r.pbD)(e.redirect,d.data))&&l.jumpTo(i,e,d.data),e.reload&&this.reloadTarget((0,r.Wvn)(e.reload,d.data),d.data),[2]}}))}))})).catch((function(t){})):l.alert("当 actionType 为 ajax 时，请设置 api 属性");if("reload"===e.actionType)e.target&&this.reloadTarget((0,r.Wvn)(e.target,n),n);else if("goto-step"===e.actionType){var h=n.step;void 0!==h&&h<=u.length&&h>=0&&this.gotoStep(n.step)}else"submit"===e.actionType?this.finalSubmit():c&&c(t,e,n,i,s||this.context)}},e.prototype.handleQuery=function(t){return this.props.initApi?!((null==t?void 0:t.hasOwnProperty("orderBy"))&&!(0,r.B92)(this.props.initApi,this.props.initApi,this.props.store.data,(0,r.ed2)(this.props.store.data,t)))&&void this.receive(t):!!this.props.onQuery&&this.props.onQuery(t)},e.prototype.openFeedback=function(t,e){var n=this;return new Promise((function(a){var i=n.props.store;i.setCurrentAction({type:"button",actionType:"dialog",dialog:t},n.props.resolveDefinitions),i.openDialog(e,void 0,(function(t){a(t)}),n.context)}))},e.prototype.handleChange=function(t){return(0,a.sH)(this,void 0,void 0,(function(){var e,n,i;return(0,a.YH)(this,(function(r){switch(r.label){case 0:return e=this.props.store,n=e.data,i=(0,a.Cl)((0,a.Cl)({},n),t),[4,this.dispatchEvent("change",i)];case 1:return r.sent()||e.updateData(t),[2]}}))}))},e.prototype.handleInit=function(t){var e=this.state.currentStep;this.initalValues[e]=this.initalValues[e]||t,this.props.store.updateData(t)},e.prototype.handleReset=function(t){var e=this.props.store,n=this.initalValues[this.state.currentStep],a={};Object.keys(t).forEach((function(t){a[t]=n.hasOwnProperty(t)?n[t]:void 0})),e.updateData(a)},e.prototype.finalSubmit=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={type:"submit"}),(0,a.sH)(this,void 0,void 0,(function(){var n,i,s,o,p,c,d,l,u,h,f,m,y,g,v,S,b=this;return(0,a.YH)(this,(function(C){switch(C.label){case 0:return n=this.props,i=n.store,s=n.api,o=n.asyncApi,p=n.finishedField,c=n.target,d=n.redirect,l=n.reload,u=n.env,h=n.onFinished,f=this.state.rawSteps,[4,this.dispatchEvent("finished",i.data)];case 1:if(C.sent())return[2];if(m=f[this.state.currentStep-1],i.updateData(t),c)this.submitToTarget((0,r.Wvn)(c,i.data),i.data),this.setState({completeStep:f.length});else if(e.api||m.api||s)y=e.asyncApi||m.asyncApi||o,(0,r.Amo)(y,i.data)&&i.updateData(((S={})[p||"finished"]=!1,S)),g=this.form?this.form.props.store:i,i.markSaving(!0),g.saveRemote(e.api||m.api||s,i.data,{onSuccess:function(t){return(0,a.sH)(b,void 0,void 0,(function(){var e,n=this;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return[4,this.dispatchEvent("submitSucc",(0,r.ed2)(this.props.data,{result:t}))];case 1:return e=a.sent(),!(0,r.Amo)(y,i.data)||i.data[p||"finished"]?[2,{cbResult:null,dispatcher:e}]:[2,{cbResult:(0,r.TG4)((function(){return i.checkRemote(y,i.data)}),(function(t){return t&&t[p||"finished"]}),(function(t){return n.asyncCancel=t})),dispatcher:e}]}}))}))},onFailed:function(t){return(0,a.sH)(b,void 0,void 0,(function(){return(0,a.YH)(this,(function(e){switch(e.label){case 0:return i.markSaving(!1),[4,this.dispatchEvent("submitFail",(0,r.ed2)(this.props.data,{error:t}))];case 1:return[2,{dispatcher:e.sent()}]}}))}))}}).then((function(t){return(0,a.sH)(b,void 0,void 0,(function(){var n,s,o;return(0,a.YH)(this,(function(p){switch(p.label){case 0:return(n=e.feedback)&&(0,r.zNq)(n,t)?[4,this.openFeedback(n,t)]:[3,2];case 1:if(s=p.sent(),n.skipRestOnCancel&&!s)throw new r.$aK;if(n.skipRestOnConfirm&&s)throw new r.$aK;p.label=2;case 2:if(this.setState({completeStep:f.length}),i.updateData((0,a.Cl)((0,a.Cl)({},i.data),t)),i.markSaving(!1),t&&"number"==typeof t.step)this.gotoStep(t.step);else if(h&&!1===h(t,e))return[2,t];return(o=(e.redirect||m.redirect||d)&&(0,r.pbD)(e.redirect||m.redirect||d,i.data))?u.jumpTo(o,e,i.data):(e.reload||m.reload||l)&&this.reloadTarget((0,r.Wvn)(e.reload||m.reload||l,i.data),i.data),[2,t]}}))}))})).catch((function(t){}));else{if(this.setState({completeStep:f.length}),h&&!1===h(i.data,e))return[2];(v=(e.redirect||m.redirect||d)&&(0,r.pbD)(e.redirect||m.redirect||d,i.data))?u.jumpTo(v,e,i.data):(e.reload||m.reload||l)&&this.reloadTarget((0,r.Wvn)(e.reload||m.reload||l,i.data),i.data)}return[2]}}))}))},e.prototype.handleSubmit=function(t,e){var n,i=this,s=this.props,o=s.store,p=s.finishedField,c=this.state.rawSteps;if(this.state.currentStep<c.length){var d=c[this.state.currentStep-1];o.updateData(t);var l=e.asyncApi||d.asyncApi;(0,r.Amo)(l,o.data)&&o.updateData(((n={})[p||"finished"]=!1,n)),(0,r.Amo)(e.api||d.api,o.data)?o.saveRemote(e.api||d.api,o.data,{onSuccess:function(){if(i.dispatchEvent("stepSubmitSucc"),(0,r.Amo)(l,o.data)&&!o.data[p||"finished"])return(0,r.TG4)((function(){return o.checkRemote(l,o.data)}),(function(t){return t&&t[p||"finished"]}),(function(t){return i.asyncCancel=t}))},onFailed:function(t){i.dispatchEvent("stepSubmitFail",{error:t}),422===t.status&&t.errors&&i.form&&i.form.props.store.setFormItemErrors(t.errors)}}).then((function(t){return(0,a.sH)(i,void 0,void 0,(function(){var n,i;return(0,a.YH)(this,(function(a){switch(a.label){case 0:return(n=e.feedback)&&(0,r.zNq)(n,t)?[4,this.openFeedback(n,t)]:[3,2];case 1:if(i=a.sent(),n.skipRestOnCancel&&!i)throw new r.$aK;if(n.skipRestOnConfirm&&i)throw new r.$aK;a.label=2;case 2:return this.gotoStep(t&&"number"==typeof t.step?t.step:this.state.currentStep+1),[2]}}))}))})).catch((function(t){i.dispatchEvent("stepSubmitFail",{error:t})})):this.gotoStep(this.state.currentStep+1)}else this.finalSubmit(t,e);return!1},e.prototype.handleDialogConfirm=function(t,e,n){var a=this.props.store;e.mergeData&&1===t.length&&t[0]&&"form"===n[0].props.type&&a.updateData(t[0]),a.closeDialog(!0,t)},e.prototype.handleDialogClose=function(t){void 0===t&&(t=!1),this.props.store.closeDialog(t)},e.prototype.handleJumpStep=function(t,e){var n=this.props.store;d(e,t,this.state.currentStep,n.data)&&this.gotoStep(t+1)},e.prototype.renderSteps=function(){var t=this.props,e=t.mode,n=t.classPrefix,a=t.classnames,r=t.stepsClassName,o=this.state,p=o.currentStep,c=o.rawSteps;return i.createElement("div",{className:a("".concat(n,"-Wizard-steps"),r),id:"form-wizard"},Array.isArray(c)&&c.length?i.createElement(s.gj,{steps:c,mode:e,current:p-1,onClickStep:this.handleJumpStep}):null)},e.prototype.renderActions=function(){var t=this,e=this.props,n=e.store,a=e.readOnly,s=e.disabled,o=e.actionClassName,p=e.actionPrevLabel,c=e.actionNextLabel,l=e.actionNextSaveLabel,u=e.actionFinishLabel,h=e.render,f=e.translate;e.classnames;var m=e.testIdBuilder,y=this.state.rawSteps;if(!Array.isArray(y))return null;var g=this.state.currentStep,v=y[g],S=y[g-2],b=n.loading,C=y[g-1];if(!C)return null;var A=!!S&&d(S,g-2,g,n.data);return C.actions&&Array.isArray(C.actions)?C.actions.length?i.createElement(i.Fragment,null,C.actions.map((function(e,n){return h("action/".concat(n),e,{key:n,data:(0,r.ed2)(t.props.data,{currentStep:g}),onAction:t.handleAction,disabled:e.disabled||b||s||"prev"===e.actionType&&!A||"next"===e.actionType&&a&&(!!C.api||!v)})}))):null:i.createElement(i.Fragment,null,h("prev-btn",{type:"button",label:f(p),actionType:"prev",className:o,hiddenOn:"${currentStep === 1}",id:null==m?void 0:m.getChild("button-prev").getTestIdValue()},{disabled:b||!A||s,onAction:this.handleAction,data:(0,r.ed2)(this.props.data,{currentStep:g})}),h("next-btn",{type:"button",label:v?C.api?f(l):f(c):f(u),actionType:"next",primary:!v||!!C.api,className:o,level:"primary",id:null==m?void 0:m.getChild("button-next").getTestIdValue()},{disabled:b||s||a&&(!!C.api||!v),onAction:this.handleAction}))},e.prototype.renderFooter=function(){var t=this.renderActions();if(!t)return t;var e=this.props,n=e.classnames,a=e.affixFooter,r=e.footerClassName,s=e.wrapWithPanel;return i.createElement("div",{role:"wizard-footer",className:n("Wizard-footer",s?"Panel-footer":"",a&&s?"Panel-fixedBottom":"",r)},t)},e.prototype.renderWizard=function(){var t=this.props,e=t.className,n=t.steps,r=t.style,o=t.render,p=t.store,c=t.classPrefix,d=t.classnames,l=t.popOverContainer,u=t.mode,h=t.translate,f=t.loadingConfig,m=t.stepClassName,y=t.bodyClassName,g=t.wrapWithPanel,v=this.state,S=v.rawSteps,b=v.currentStep,C=Array.isArray(S)&&S.length>0?S:Array.isArray(n)?(0,a.fX)([],(0,a.zs)(n),!1).map((function(t){return delete t.hiddenOn,t})):null,A=Array.isArray(C)?C[b-1]:null;return i.createElement("div",{ref:this.domRef,className:d(g?"".concat(c,"Panel ").concat(c,"Panel--default"):"","".concat(c,"Wizard ").concat(c,"Wizard--").concat(u),e),style:r},i.createElement("div",{className:d("".concat(c,"Wizard-step"),m)},this.renderSteps(),i.createElement("div",{role:"wizard-body",className:d("".concat(c,"Wizard-stepContent clearfix"),y)},A?o("body",(0,a.Cl)((0,a.Cl)({},A),{type:"form",wrapWithPanel:!1,api:null}),{key:this.state.currentStep,ref:this.formRef,onInit:this.handleInit,onReset:this.handleReset,onSubmit:this.handleSubmit,onAction:this.handleAction,onQuery:this.handleQuery,disabled:p.loading,popOverContainer:l||this.getPopOverContainer,onChange:this.handleChange,formStore:void 0}):-1===b?h("loading"):i.createElement("p",{className:"text-danger"},h("Wizard.configError"))),this.renderFooter()),o("dialog",(0,a.Cl)((0,a.Cl)({},p.action&&p.action.dialog),{type:"dialog"}),{key:"dialog",data:p.dialogData,onConfirm:this.handleDialogConfirm,onClose:this.handleDialogClose,show:p.dialogOpen}),i.createElement(s.y$,{loadingConfig:f,size:"lg",overlay:!0,key:"info",show:p.loading}))},e.prototype.render=function(){return this.renderWizard()},e.defaultProps={mode:"horizontal",readOnly:!1,messages:{},actionClassName:"",actionPrevLabel:"Wizard.prev",actionNextLabel:"Wizard.next",actionNextSaveLabel:"Wizard.saveAndNext",actionFinishLabel:"Wizard.finish",startStep:"1",wrapWithPanel:!0},e.propsList=["steps","mode","messages","actionClassName","actionPrevLabel","actionNextLabel","actionNextSaveLabel","actionFinishLabel","onFinished","affixFooter","startStep"],(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Object]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"formRef",null),(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Object]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"domRef",null),(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"getPopOverContainer",null),(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Object,Object,Object,Boolean,Object]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"handleAction",null),(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Object]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"handleQuery",null),(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Object]),(0,a.Sn)("design:returntype",Promise)],e.prototype,"handleChange",null),(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Object]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"handleInit",null),(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Object]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"handleReset",null),(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Object,Object]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"handleSubmit",null),(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Array,Object,Array]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"handleDialogConfirm",null),(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Object]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"handleDialogClose",null),(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Number,Object]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"handleJumpStep",null),e}(i.Component);function d(t,e,n,a){return t&&t.hasOwnProperty("jumpable")?t.jumpable:t&&t.jumpableOn?(0,r.pgu)(t.jumpableOn,(0,r.ed2)(a,{currentStep:n})):e+1<n}var l=function(t){function e(e,n){var a=t.call(this,e)||this;return n.registerComponent(a),a}return(0,a.C6)(e,t),e.prototype.componentWillUnmount=function(){this.context.unRegisterComponent(this),t.prototype.componentWillUnmount.call(this)},e.prototype.doAction=function(t,e,n){return this.handleAction(void 0,t,e)},e.prototype.submitToTarget=function(t,e){this.context.send(t,e)},e.prototype.reloadTarget=function(t,e){this.context.reload(t,e)},e.prototype.handleDialogConfirm=function(e,n,a){t.prototype.handleDialogConfirm.call(this,e,n,a);var i=this.props.store,r=this.context;n.reload?r.reload(n.reload,i.data):i.action&&i.action.reload&&r.reload(i.action.reload,i.data)},e.prototype.setData=function(t,e){return this.props.store.updateData(t,void 0,e)},e.prototype.getData=function(){return this.props.store.data},e.contextType=r.MzX,(0,a.Cg)([r.d6t,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[Array,Object,Array]),(0,a.Sn)("design:returntype",void 0)],e.prototype,"handleDialogConfirm",null),(0,a.Cg)([(0,r.A49)({type:"wizard",storeType:r.DtI.name,isolateScope:!0}),(0,a.Sn)("design:paramtypes",[Object,Object])],e)}(c)}}]);